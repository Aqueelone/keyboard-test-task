group 'test'
version '1.0-SNAPSHOT'

apply plugin: 'java'

sourceCompatibility = 1.8

ext {
    mainClassName = 'test.Keylogger'
}

repositories {
    mavenCentral()
}

dependencies {
//    compile fileTree(dir: 'lib', include: 'jnativehook*.jar')
    compile 'com.1stleg:jnativehook:2.1.0'
    compile "net.java.dev.jna:jna:4.5.0"
    compile "net.java.dev.jna:jna-platform:4.5.0"
    compile 'org.slf4j:slf4j-api:1.7.25'
    compile 'ch.qos.logback:logback-classic:1.2.3'
    testCompile group: 'junit', name: 'junit', version: '4.12'
}

task run(type:JavaExec) {
    group = 'developing'
    main = mainClassName
    description = "Runs this project as a JVM application"
    if (project.hasProperty("appArgs")) {
        args Eval.me(appArgs)
    }
    classpath = sourceSets.main.runtimeClasspath
}

task debug(type:JavaExec, dependsOn:'classes') {
    group = 'developing'
    main = mainClassName
    description = "Debug application"
    if (project.hasProperty("appArgs")) {
        args Eval.me(appArgs)
    }
    classpath = sourceSets.main.runtimeClasspath
    ignoreExitValue = true
    debug = true
}
